# Project Backlog: loom99-claude-marketplace

**Generated**: 2025-10-28 06:29:00
**Source STATUS**: STATUS-2025-10-28-061728.md
**Spec Version**: PROJECT_SPEC.md (current)
**Current Completion**: 5%
**Target**: Functional 3-plugin marketplace

---

## Executive Summary

This backlog addresses the gap between the current state (5% complete, non-functional) and a working MVP marketplace with three functional plugins. The STATUS report identified zero functional implementations across all three specified plugins.

**Critical Path**: Fix configurations → Implement Plugin #1 → Implement Plugin #2 → Implement Plugin #3

**Total Work Items**: 28
**Estimated Effort to MVP**: 42-76 hours

### Focus Areas
1. **Foundation** (P0): Fix broken configurations, establish Plugin #3 structure
2. **Core Implementation** (P1): Implement all three plugins with basic functionality
3. **Quality & Documentation** (P2): Add tests, validation, comprehensive docs
4. **Enhancement** (P3): Advanced features, optimizations

---

## P0 (Critical) - Foundation Must Work

### P0-1: Fix plugin.json Metadata for agent-loop

**Status**: Not Started
**Effort**: Small (1-2 hours)
**Dependencies**: None
**Spec Reference**: PROJECT_SPEC.md lines 5-17 • **Status Reference**: STATUS-2025-10-28-061728.md lines 42, 127-140

#### Description
The agent-loop plugin.json contains placeholder values that prevent the plugin from being installable. Must update all metadata fields to match marketplace.json and correct all path references to actual directory structure.

#### Acceptance Criteria
- [ ] "name" field is "agent-loop" (not "plugin-name")
- [ ] "version" matches marketplace.json ("0.1.0")
- [ ] "author" matches marketplace.json owner (Brandon Fryslie, )
- [ ] "description" accurately describes explore→plan→code→commit workflow
- [ ] "commands" path points to "./commands/" (not "./custom/commands/special.md")
- [ ] "agents" path is "./agents/" (not "./custom/agents/")
- [ ] "hooks" path is "./hooks/hooks.json" (not "./config/hooks.json")
- [ ] "mcpServers" path is "./.mcp.json" (not "./mcp-config.json")
- [ ] File passes JSON validation
- [ ] All referenced paths exist in filesystem

#### Technical Notes
Current file at `/Users/bmf/Library/Mobile Documents/com~apple~CloudDocs/_mine/icode/loom99-claude-marketplace/plugins/agent-loop/.claude-plugin/plugin.json` is completely placeholder. Replace with correct values aligned to marketplace.json.

---

### P0-2: Fix plugin.json Metadata for epti

**Status**: Not Started
**Effort**: Small (1-2 hours)
**Dependencies**: None
**Spec Reference**: PROJECT_SPEC.md lines 19-30 • **Status Reference**: STATUS-2025-10-28-061728.md lines 56, 127-140

#### Description
The epti plugin.json contains placeholder values that prevent the plugin from being installable. Must update all metadata fields to match marketplace.json and correct all path references.

#### Acceptance Criteria
- [ ] "name" field is "epti" (not "plugin-name")
- [ ] "version" matches marketplace.json ("0.1.0")
- [ ] "author" matches marketplace.json owner (Brandon Fryslie, )
- [ ] "description" accurately describes TDD workflow (test-first, then implement)
- [ ] "commands" path points to "./commands/"
- [ ] "agents" path is "./agents/"
- [ ] "hooks" path is "./hooks/hooks.json"
- [ ] "mcpServers" path is "./.mcp.json"
- [ ] File passes JSON validation
- [ ] All referenced paths exist in filesystem

#### Technical Notes
Identical structure to P0-1 but for epti plugin. Both use same template and need same fixes.

---

### P0-3: Initialize Valid JSON Configuration Files

**Status**: Not Started
**Effort**: Small (30 minutes)
**Dependencies**: None
**Spec Reference**: PROJECT_SPEC.md general structure • **Status Reference**: STATUS-2025-10-28-061728.md lines 46-47, 60-61, 133-135

#### Description
All .mcp.json and hooks.json files are currently 0 bytes and unparseable. Initialize them with valid (even if empty) JSON structures so they can be loaded without errors.

#### Acceptance Criteria
- [ ] plugins/agent-loop/.mcp.json contains valid JSON (minimum: `{}`)
- [ ] plugins/agent-loop/hooks/hooks.json contains valid JSON (minimum: `[]`)
- [ ] plugins/epti/.mcp.json contains valid JSON (minimum: `{}`)
- [ ] plugins/epti/hooks/hooks.json contains valid JSON (minimum: `[]`)
- [ ] All files pass `jq` or equivalent JSON validation
- [ ] All files are >0 bytes

#### Technical Notes
Use `{}` for .mcp.json (object) and `[]` for hooks.json (array). This allows plugins to load even without MCP servers or hooks configured yet.

---

### P0-4: Define and Create Plugin #3 Structure

**Status**: Not Started
**Effort**: Small (2-3 hours)
**Dependencies**: None
**Spec Reference**: PROJECT_SPEC.md lines 32-41 • **Status Reference**: STATUS-2025-10-28-061728.md lines 65-77

#### Description
Plugin #3 ("Write code, screenshot result, iterate") is completely missing. Must define plugin name, create directory structure, register in marketplace.json, and establish configuration files.

#### Acceptance Criteria
- [ ] Plugin name decided (suggest: "visual-iteration" or "screenshot-loop")
- [ ] Directory created: plugins/<name>/
- [ ] Standard subdirectories created: agents/, commands/, skills/, hooks/
- [ ] plugin.json created with correct metadata
- [ ] .mcp.json created with valid JSON
- [ ] hooks/hooks.json created with valid JSON
- [ ] Entry added to marketplace.json
- [ ] .claude-plugin/ subdirectory created
- [ ] All paths in plugin.json reference actual directories

#### Technical Notes
This plugin will need Puppeteer or browser automation MCP server. Consider naming: "visual-iteration", "screenshot-tdd", or "design-loop". Must integrate with browser tooling.

---

### P0-5: Register Plugin #3 in Marketplace

**Status**: Not Started
**Effort**: Small (30 minutes)
**Dependencies**: P0-4
**Spec Reference**: PROJECT_SPEC.md lines 32-41 • **Status Reference**: STATUS-2025-10-28-061728.md lines 76, 209

#### Description
Add Plugin #3 entry to marketplace.json with appropriate metadata matching the other two plugins.

#### Acceptance Criteria
- [ ] New entry added to "plugins" array in marketplace.json
- [ ] "name" matches plugin directory name
- [ ] "source" path is correct (./plugins/<name>)
- [ ] "description" describes visual iteration workflow
- [ ] "version" is "0.1.0"
- [ ] "author" matches marketplace owner (Brandon Fryslie)
- [ ] "strict" is true
- [ ] "license" is "MIT"
- [ ] marketplace.json passes JSON validation
- [ ] Marketplace lists exactly 3 plugins

#### Technical Notes
Follow exact format of existing entries for agent-loop and epti. Maintain alphabetical ordering if desired.

---

## P1 (High) - Core Plugin Implementation

### P1-1: Implement agent-loop Main Agent

**Status**: Not Started
**Effort**: Medium (4-6 hours)
**Dependencies**: P0-1, P0-3
**Spec Reference**: PROJECT_SPEC.md lines 5-17 • **Status Reference**: STATUS-2025-10-28-061728.md lines 43, 233

#### Description
Create the main agent definition for agent-loop plugin that implements the "Explore → Plan → Code → Commit" workflow. Agent should guide users through exploration phase, planning with extended thinking, implementation, and git operations.

#### Acceptance Criteria
- [ ] Agent markdown file created in plugins/agent-loop/agents/
- [ ] Agent prompt clearly defines explore→plan→code→commit stages
- [ ] Agent instructs use of subagents during exploration phase
- [ ] Agent triggers extended thinking with "think"/"think hard" prompts during planning
- [ ] Agent prevents jumping to coding before exploration/planning complete
- [ ] Agent includes git commit and PR creation in final stage
- [ ] Agent references are updated in plugin.json if needed
- [ ] Agent can be invoked and provides expected workflow guidance

#### Technical Notes
Key workflow stages:
1. Explore: Read files, investigate (use subagents)
2. Plan: Create implementation plan (use extended thinking)
3. Code: Implement solution with verification
4. Commit: Git operations, PR creation, update docs

---

### P1-2: Implement agent-loop Slash Commands

**Status**: Not Started
**Effort**: Medium (3-4 hours)
**Dependencies**: P0-1, P1-1
**Spec Reference**: PROJECT_SPEC.md lines 5-17 • **Status Reference**: STATUS-2025-10-28-061728.md lines 44, 236

#### Description
Create slash commands for each stage of the agent-loop workflow: /explore, /plan, /code, /commit. Each command should be a focused prompt that guides users through that specific stage.

#### Acceptance Criteria
- [ ] /explore command created - prompts for reading files, using subagents
- [ ] /plan command created - triggers thinking, creates plan document
- [ ] /code command created - implements from plan, verifies solution
- [ ] /commit command created - handles git operations, PR creation
- [ ] All command files are in plugins/agent-loop/commands/
- [ ] Commands are registered in plugin.json "commands" array
- [ ] Each command has clear purpose and instructions
- [ ] Commands can chain together for full workflow

#### Technical Notes
Commands should be markdown files with clear prompts. Consider adding /full-loop command that runs entire workflow end-to-end.

---

### P1-3: Implement agent-loop Skills

**Status**: Not Started
**Effort**: Medium (3-4 hours)
**Dependencies**: P0-1
**Spec Reference**: PROJECT_SPEC.md lines 5-17 • **Status Reference**: STATUS-2025-10-28-061728.md lines 45, 239

#### Description
Create reusable skills for agent-loop workflow stages: code exploration, plan generation, implementation verification, and git operations.

#### Acceptance Criteria
- [ ] Skill for code exploration/investigation created
- [ ] Skill for plan generation (with thinking) created
- [ ] Skill for implementation verification created
- [ ] Skill for git operations (commit, PR) created
- [ ] All skills in plugins/agent-loop/skills/
- [ ] Skills reference in plugin.json if applicable
- [ ] Skills are documented with clear usage
- [ ] Skills are reusable across different contexts

#### Technical Notes
Skills should be composable. Consider creating skill for "verify implementation against plan" that checks solution completeness.

---

### P1-4: Configure agent-loop Git Hooks

**Status**: Not Started
**Effort**: Small (2-3 hours)
**Dependencies**: P0-3, P1-3
**Spec Reference**: PROJECT_SPEC.md lines 16 • **Status Reference**: STATUS-2025-10-28-061728.md lines 46, 246

#### Description
Configure lifecycle hooks in hooks.json to automate git operations, ensure commits are properly formatted, and trigger PR creation workflows.

#### Acceptance Criteria
- [ ] hooks.json contains valid hook definitions
- [ ] Pre-commit hooks verify solution completeness
- [ ] Post-implementation hooks trigger git operations
- [ ] Hooks integrate with git commands properly
- [ ] Hooks don't block workflow if git not available
- [ ] Hook configurations are documented
- [ ] Hooks can be tested independently

#### Technical Notes
Consider hooks for: verifying plan exists before coding, ensuring tests pass before commit, formatting commit messages, creating PR templates.

---

### P1-5: Implement epti Main Agent (TDD Focus)

**Status**: Not Started
**Effort**: Medium (4-6 hours)
**Dependencies**: P0-2, P0-3
**Spec Reference**: PROJECT_SPEC.md lines 19-30 • **Status Reference**: STATUS-2025-10-28-061728.md lines 57, 233

#### Description
Create the main agent for epti plugin implementing "Write tests → Commit → Code → Iterate → Commit" TDD workflow. Agent must prevent implementation before tests and emphasize iteration.

#### Acceptance Criteria
- [ ] Agent markdown file created in plugins/epti/agents/
- [ ] Agent prompt defines TDD workflow: tests first, then implementation
- [ ] Agent explicitly prevents mock implementations
- [ ] Agent ensures tests fail before implementation starts
- [ ] Agent commits tests separately from implementation
- [ ] Agent drives iteration until all tests pass
- [ ] Agent uses subagents to verify no test-overfitting
- [ ] Agent handles test runner integration

#### Technical Notes
Critical: Must prevent Claude from writing implementation code during test creation phase. Should integrate with test runners (pytest, jest, etc.) to verify test execution.

---

### P1-6: Implement epti Slash Commands

**Status**: Not Started
**Effort**: Medium (3-4 hours)
**Dependencies**: P0-2, P1-5
**Spec Reference**: PROJECT_SPEC.md lines 19-30 • **Status Reference**: STATUS-2025-10-28-061728.md lines 58, 236

#### Description
Create slash commands for TDD workflow stages: /write-tests, /verify-tests-fail, /implement, /iterate-until-pass, /commit-implementation.

#### Acceptance Criteria
- [ ] /write-tests command created - generates tests from requirements
- [ ] /verify-tests-fail command created - runs tests, confirms failure
- [ ] /implement command created - writes code to pass tests
- [ ] /iterate command created - runs tests, adjusts code, repeats
- [ ] /commit-tests and /commit-code commands created separately
- [ ] All commands in plugins/epti/commands/
- [ ] Commands registered in plugin.json
- [ ] Commands enforce TDD discipline (no skipping stages)

#### Technical Notes
Commands should integrate with test framework detection. Consider /tdd-full-cycle command for complete workflow.

---

### P1-7: Implement epti Skills

**Status**: Not Started
**Effort**: Medium (3-4 hours)
**Dependencies**: P0-2
**Spec Reference**: PROJECT_SPEC.md lines 19-30 • **Status Reference**: STATUS-2025-10-28-061728.md lines 59, 239

#### Description
Create reusable skills for TDD workflow: test generation, test execution, implementation without test modification, overfitting detection.

#### Acceptance Criteria
- [ ] Skill for test generation from requirements created
- [ ] Skill for test execution and result parsing created
- [ ] Skill for implementation (with test-protection) created
- [ ] Skill for detecting test overfitting created
- [ ] Skills in plugins/epti/skills/
- [ ] Skills reference in plugin.json if applicable
- [ ] Skills documented with examples
- [ ] Skills work with multiple test frameworks

#### Technical Notes
Overfitting detection skill should use subagents to independently verify implementation isn't just satisfying tests but solving actual problem.

---

### P1-8: Configure epti Test Runner Hooks

**Status**: Not Started
**Effort**: Small (2-3 hours)
**Dependencies**: P0-3, P1-7
**Spec Reference**: PROJECT_SPEC.md lines 27 • **Status Reference**: STATUS-2025-10-28-061728.md lines 60, 246

#### Description
Configure hooks in hooks.json to automatically run tests after code changes, prevent commits when tests fail, and track test coverage.

#### Acceptance Criteria
- [ ] hooks.json contains test execution hooks
- [ ] Pre-commit hooks run test suite
- [ ] Commit blocked if tests fail
- [ ] Post-code hooks trigger test runners
- [ ] Hooks detect test framework automatically (pytest, jest, go test, etc.)
- [ ] Hook failures provide clear error messages
- [ ] Hooks are documented

#### Technical Notes
Must detect test framework from project structure. Support at minimum: Python (pytest), JavaScript (jest), Go (go test).

---

### P1-9: Implement Plugin #3 Main Agent (Visual Iteration)

**Status**: Not Started
**Effort**: Large (6-8 hours)
**Dependencies**: P0-4, P0-5
**Spec Reference**: PROJECT_SPEC.md lines 32-41 • **Status Reference**: STATUS-2025-10-28-061728.md lines 71, 233

#### Description
Create agent for Plugin #3 implementing "Write code → Screenshot result → Iterate" workflow with visual comparison. Agent must integrate with browser automation tools.

#### Acceptance Criteria
- [ ] Agent markdown file created in plugins/<name>/agents/
- [ ] Agent prompt defines visual iteration workflow
- [ ] Agent integrates with screenshot capture (Puppeteer MCP or manual)
- [ ] Agent accepts visual mock as target (image file or clipboard)
- [ ] Agent implements design in code
- [ ] Agent captures screenshots of result
- [ ] Agent compares result to target
- [ ] Agent iterates until match is achieved
- [ ] Agent commits when user satisfied

#### Technical Notes
Requires MCP server for browser automation. Should support both automated (Puppeteer) and manual (user-provided) screenshots. Visual comparison could be AI-based ("do these match?") or metric-based.

---

### P1-10: Configure Plugin #3 MCP Servers (Browser Automation)

**Status**: Not Started
**Effort**: Medium (3-5 hours)
**Dependencies**: P0-4, P1-9
**Spec Reference**: PROJECT_SPEC.md line 37 • **Status Reference**: STATUS-2025-10-28-061728.md lines 75, 249

#### Description
Configure .mcp.json for Plugin #3 with Puppeteer MCP server and/or iOS simulator MCP server for automated screenshot capture and browser automation.

#### Acceptance Criteria
- [ ] .mcp.json contains Puppeteer MCP server configuration
- [ ] Optional: iOS simulator MCP server configured
- [ ] MCP servers can be initialized when plugin loads
- [ ] Screenshot capture works via MCP commands
- [ ] Browser navigation works via MCP commands
- [ ] Configuration includes server endpoints, timeouts
- [ ] Fallback to manual screenshots if MCP unavailable
- [ ] Configuration documented with usage examples

#### Technical Notes
Puppeteer MCP server should support: navigate, screenshot, evaluate. Consider also supporting Playwright. If iOS simulator MCP exists, add as optional second server.

---

### P1-11: Implement Plugin #3 Slash Commands

**Status**: Not Started
**Effort**: Medium (3-4 hours)
**Dependencies**: P0-4, P1-9
**Spec Reference**: PROJECT_SPEC.md lines 32-41 • **Status Reference**: STATUS-2025-10-28-061728.md lines 72, 236

#### Description
Create slash commands for visual iteration workflow: /load-mock, /implement-design, /screenshot, /compare, /iterate.

#### Acceptance Criteria
- [ ] /load-mock command created - accepts image file path or clipboard
- [ ] /implement-design command created - codes UI from mock
- [ ] /screenshot command created - captures current state
- [ ] /compare command created - compares result to target
- [ ] /iterate command created - adjusts code based on comparison
- [ ] /visual-loop command created - full end-to-end workflow
- [ ] Commands in plugins/<name>/commands/
- [ ] Commands registered in plugin.json
- [ ] Commands work with and without MCP servers

#### Technical Notes
Commands should gracefully degrade if MCP not available (prompt user to provide screenshots manually). /compare should provide actionable feedback.

---

### P1-12: Implement Plugin #3 Skills

**Status**: Not Started
**Effort**: Medium (3-4 hours)
**Dependencies**: P0-4
**Spec Reference**: PROJECT_SPEC.md lines 32-41 • **Status Reference**: STATUS-2025-10-28-061728.md lines 73, 239

#### Description
Create reusable skills for visual iteration: screenshot capture, visual comparison, design implementation, iterative refinement.

#### Acceptance Criteria
- [ ] Skill for screenshot capture (via MCP or manual) created
- [ ] Skill for visual comparison (AI-based analysis) created
- [ ] Skill for design implementation from mock created
- [ ] Skill for iterative refinement based on diff created
- [ ] Skills in plugins/<name>/skills/
- [ ] Skills documented with examples
- [ ] Skills work independently of MCP availability

#### Technical Notes
Visual comparison skill is key differentiator. Should analyze: layout, colors, spacing, typography, element positioning. Provide specific feedback like "button is 5px too high" not just "doesn't match".

---

## P2 (Medium) - Quality & Documentation

### P2-1: Create Root README.md

**Status**: Not Started
**Effort**: Medium (3-4 hours)
**Dependencies**: P0-5, P1-2, P1-6, P1-11
**Spec Reference**: General documentation • **Status Reference**: STATUS-2025-10-28-061728.md lines 112, 307

#### Description
Create comprehensive README at repository root explaining marketplace purpose, installation instructions, plugin overview, and usage guide.

#### Acceptance Criteria
- [ ] README.md created at repo root
- [ ] Marketplace purpose and overview section
- [ ] Installation instructions for Claude Code
- [ ] Section for each of 3 plugins with descriptions
- [ ] Quick start examples for each plugin
- [ ] Links to individual plugin READMEs
- [ ] Requirements section (Claude Code version, MCP servers)
- [ ] License and author information
- [ ] Troubleshooting section

#### Technical Notes
Should explain how to install from marketplace, load individual plugins, and when to use each plugin. Include screenshots or examples of workflows.

---

### P2-2: Create Plugin Documentation (agent-loop)

**Status**: Not Started
**Effort**: Small (2-3 hours)
**Dependencies**: P1-1, P1-2, P1-3, P1-4
**Spec Reference**: General documentation • **Status Reference**: STATUS-2025-10-28-061728.md lines 112, 309

#### Description
Create README.md in plugins/agent-loop/ directory with plugin-specific documentation, usage examples, workflow guide, and API reference.

#### Acceptance Criteria
- [ ] README.md created in plugins/agent-loop/
- [ ] Plugin purpose and when to use it
- [ ] Workflow stages explained (Explore → Plan → Code → Commit)
- [ ] Available slash commands documented with examples
- [ ] Agent usage explained
- [ ] Skills documented with parameters
- [ ] Hook behaviors documented
- [ ] Complete workflow example end-to-end
- [ ] Tips for best results

#### Technical Notes
Include examples of typical problems suited for this workflow. Emphasize importance of exploration and planning stages before coding.

---

### P2-3: Create Plugin Documentation (epti)

**Status**: Not Started
**Effort**: Small (2-3 hours)
**Dependencies**: P1-5, P1-6, P1-7, P1-8
**Spec Reference**: General documentation • **Status Reference**: STATUS-2025-10-28-061728.md lines 112, 309

#### Description
Create README.md in plugins/epti/ directory with TDD workflow documentation, command reference, and test-first development guide.

#### Acceptance Criteria
- [ ] README.md created in plugins/epti/
- [ ] TDD workflow explained clearly
- [ ] Available slash commands documented with examples
- [ ] Test-first discipline explained
- [ ] Supported test frameworks listed
- [ ] Complete TDD cycle example
- [ ] Tips for preventing test overfitting
- [ ] Integration with test runners documented

#### Technical Notes
Emphasize the test-first discipline. Explain why tests should fail first, how to avoid mock implementations, and benefits of iteration.

---

### P2-4: Create Plugin Documentation (Plugin #3)

**Status**: Not Started
**Effort**: Small (2-3 hours)
**Dependencies**: P1-9, P1-10, P1-11, P1-12
**Spec Reference**: General documentation • **Status Reference**: STATUS-2025-10-28-061728.md lines 112, 309

#### Description
Create README.md in plugins/<name>/ directory documenting visual iteration workflow, MCP server setup, screenshot comparison, and design implementation.

#### Acceptance Criteria
- [ ] README.md created in plugin directory
- [ ] Visual iteration workflow explained
- [ ] MCP server setup instructions (Puppeteer)
- [ ] Available commands documented
- [ ] Manual screenshot fallback explained
- [ ] Visual comparison process documented
- [ ] Complete design iteration example
- [ ] Tips for achieving pixel-perfect results

#### Technical Notes
Include screenshots of the workflow itself. Explain both automated (with MCP) and manual (user provides screenshots) modes.

---

### P2-5: Create Validation Script for Plugin Manifests

**Status**: Not Started
**Effort**: Medium (4-5 hours)
**Dependencies**: P0-1, P0-2, P0-5
**Spec Reference**: Quality infrastructure • **Status Reference**: STATUS-2025-10-28-061728.md lines 312-314

#### Description
Create validation script that checks all plugin.json files for correctness: validates JSON, checks all paths exist, verifies metadata matches marketplace.json, ensures configurations are valid.

#### Acceptance Criteria
- [ ] Validation script created (suggest: scripts/validate-plugins.sh or .py)
- [ ] Validates JSON syntax for all plugin.json files
- [ ] Verifies all paths in plugin.json exist in filesystem
- [ ] Checks metadata matches marketplace.json (names, versions, authors)
- [ ] Validates .mcp.json files are parseable
- [ ] Validates hooks.json files are parseable
- [ ] Provides clear error messages with file paths and line numbers
- [ ] Exit code indicates success/failure
- [ ] Script documented with usage instructions

#### Technical Notes
Consider using Python with json/jsonschema modules or shell script with jq. Should be runnable in CI/CD pipeline. Add to git pre-commit hook.

---

### P2-6: Create Path Verification Script

**Status**: Not Started
**Effort**: Small (2-3 hours)
**Dependencies**: P0-1, P0-2, P0-5
**Spec Reference**: Quality infrastructure • **Status Reference**: STATUS-2025-10-28-061728.md lines 312-314

#### Description
Create script that verifies all paths referenced in plugin.json files actually exist in the filesystem. Catches broken references before they cause runtime errors.

#### Acceptance Criteria
- [ ] Script created (scripts/verify-paths.sh or .py)
- [ ] Parses all plugin.json files
- [ ] Extracts all path references (commands, agents, hooks, mcpServers)
- [ ] Checks each path exists in filesystem
- [ ] Reports missing paths with plugin name and field
- [ ] Exit code indicates success/failure
- [ ] Can run in CI/CD pipeline

#### Technical Notes
Should resolve relative paths correctly from plugin directory. Consider checking not just directory existence but that directories contain expected file types.

---

### P2-7: Create Integration Tests for Plugin Loading

**Status**: Not Started
**Effort**: Large (6-8 hours)
**Dependencies**: All P1 items
**Spec Reference**: Testing infrastructure • **Status Reference**: STATUS-2025-10-28-061728.md lines 97, 317

#### Description
Create integration tests that verify each plugin can be loaded, manifests are parsed correctly, commands are registered, agents are accessible, and basic functionality works.

#### Acceptance Criteria
- [ ] Test suite created (suggest: tests/integration/)
- [ ] Test for loading marketplace.json
- [ ] Test for loading each plugin individually
- [ ] Test that plugin.json files parse correctly
- [ ] Test that commands are registered and accessible
- [ ] Test that agents can be invoked
- [ ] Test that MCP servers initialize (if configured)
- [ ] Test that hooks are registered
- [ ] Tests use actual Claude Code plugin loading mechanism
- [ ] All tests pass

#### Technical Notes
May require Claude Code test harness or mock. Focus on structural validation rather than deep functionality testing. Ensure plugins don't break plugin loader.

---

### P2-8: Create Workflow End-to-End Tests

**Status**: Not Started
**Effort**: Large (8-10 hours)
**Dependencies**: P1-2, P1-6, P1-11
**Spec Reference**: Testing infrastructure • **Status Reference**: STATUS-2025-10-28-061728.md lines 97, 319

#### Description
Create end-to-end tests that exercise complete workflows for each plugin: full agent-loop cycle, full TDD cycle, full visual iteration cycle. Verify expected outcomes.

#### Acceptance Criteria
- [ ] E2E test for agent-loop workflow (explore→plan→code→commit)
- [ ] E2E test for epti workflow (test→commit→code→iterate)
- [ ] E2E test for Plugin #3 workflow (code→screenshot→iterate)
- [ ] Tests use realistic scenarios
- [ ] Tests verify expected artifacts created (plans, tests, code, commits)
- [ ] Tests verify git operations work correctly
- [ ] Tests verify MCP integrations work (with mocks if needed)
- [ ] All tests pass
- [ ] Tests documented with purpose and setup

#### Technical Notes
E2E tests may need test fixtures (sample projects). Consider using temporary git repos. Mock MCP servers if real ones unavailable in test environment.

---

### P2-9: Align CLAUDE.md with Implementation

**Status**: Not Started
**Effort**: Small (1-2 hours)
**Dependencies**: All P1 items
**Spec Reference**: Documentation accuracy • **Status Reference**: STATUS-2025-10-28-061728.md lines 107, 322

#### Description
Update CLAUDE.md to reflect actual implementation state. Remove "skeleton/placeholder" language, update plugin descriptions, document actual structure.

#### Acceptance Criteria
- [ ] Remove line 85 statement about "skeleton/placeholder phase"
- [ ] Update plugin status from "Early development" to "Implemented"
- [ ] Document actual agent, command, skill implementations
- [ ] Add usage examples
- [ ] Update architecture section with actual patterns used
- [ ] Document any deviations from initial plan
- [ ] Ensure all paths and references are correct

#### Technical Notes
CLAUDE.md is the project instruction file for Claude Code. Keep it concise but accurate. Focus on architectural overview and development guidance.

---

### P2-10: Update PROJECT_SPEC.md with Implementation Details

**Status**: Not Started
**Effort**: Small (1-2 hours)
**Dependencies**: All P1 items
**Spec Reference**: Documentation accuracy • **Status Reference**: STATUS-2025-10-28-061728.md lines 108, 325

#### Description
Expand PROJECT_SPEC.md with specific implementation details: actual plugin names, command names, agent behaviors, MCP servers used. Convert from workflow descriptions to concrete specifications.

#### Acceptance Criteria
- [ ] Add Plugin #3 official name to spec
- [ ] Document specific command names for each plugin
- [ ] Document agent file locations
- [ ] Document MCP server configurations
- [ ] Add acceptance criteria for each plugin
- [ ] Document integration points between plugins
- [ ] Add version history

#### Technical Notes
PROJECT_SPEC.md should become authoritative source for "what should exist" while STATUS reports track "what actually exists".

---

## P3 (Low) - Enhancements & Optimization

### P3-1: Add Advanced Thinking Modes to agent-loop

**Status**: Not Started
**Effort**: Medium (3-4 hours)
**Dependencies**: P1-1, P1-2
**Spec Reference**: PROJECT_SPEC.md line 13

#### Description
Enhance agent-loop planning stage to support all thinking modes: "think", "think hard", "think harder", "ultrathink". Allow users to specify thinking budget based on problem complexity.

#### Acceptance Criteria
- [ ] Agent supports "think" command (basic thinking)
- [ ] Agent supports "think hard" command (more thinking)
- [ ] Agent supports "think harder" command (extended thinking)
- [ ] Agent supports "ultrathink" command (maximum thinking)
- [ ] Slash command /plan accepts thinking level parameter
- [ ] Documentation explains when to use each level
- [ ] Examples demonstrate different thinking levels

#### Technical Notes
Thinking budget allocation: "think" < "think hard" < "think harder" < "ultrathink". Use for complex architectural decisions or ambiguous problems.

---

### P3-2: Add Subagent Orchestration to agent-loop

**Status**: Not Started
**Effort**: Medium (4-5 hours)
**Dependencies**: P1-1
**Spec Reference**: PROJECT_SPEC.md line 12

#### Description
Enhance explore phase with explicit subagent orchestration. Allow agent to spawn multiple investigation subagents in parallel for complex codebases.

#### Acceptance Criteria
- [ ] Agent can spawn subagents during exploration
- [ ] Subagents can investigate different parts of codebase
- [ ] Results from subagents are aggregated
- [ ] /explore command supports parallel investigation
- [ ] Skill for subagent coordination created
- [ ] Documentation explains subagent usage

#### Technical Notes
Subagents preserve context by investigating specific questions. Use for: understanding architecture, tracing feature implementations, identifying patterns.

---

### P3-3: Add Test Framework Auto-Detection to epti

**Status**: Not Started
**Effort**: Medium (3-4 hours)
**Dependencies**: P1-5, P1-8
**Spec Reference**: Testing enhancement

#### Description
Enhance epti plugin to automatically detect test framework from project structure and adapt commands accordingly. Support pytest, jest, go test, junit, etc.

#### Acceptance Criteria
- [ ] Agent detects test framework from project files
- [ ] Supported frameworks: pytest, jest, go test, junit, rspec
- [ ] Commands adapt to detected framework
- [ ] Test execution uses correct command for framework
- [ ] Documentation lists supported frameworks
- [ ] Fallback to manual framework specification

#### Technical Notes
Detection heuristics: pytest.ini/setup.py → pytest, jest.config.js → jest, go.mod → go test, pom.xml → junit, Gemfile with rspec → rspec.

---

### P3-4: Add Visual Diff Metrics to Plugin #3

**Status**: Not Started
**Effort**: Large (6-8 hours)
**Dependencies**: P1-9, P1-12
**Spec Reference**: Enhancement

#### Description
Enhance Plugin #3 visual comparison with quantitative metrics: pixel difference count, layout shift measurements, color accuracy scores. Provide objective feedback beyond AI analysis.

#### Acceptance Criteria
- [ ] Skill for pixel-level comparison created
- [ ] Metric: total pixels different (count and percentage)
- [ ] Metric: layout shift (elements out of position)
- [ ] Metric: color accuracy (average delta-E)
- [ ] Comparison results include both AI and metrics
- [ ] Threshold for "good enough" configurable
- [ ] Documentation explains metrics

#### Technical Notes
Could use image processing libraries (Pillow, sharp). Metrics help quantify progress: "95% match" vs "60% match". Consider structural similarity index (SSIM).

---

### P3-5: Add Multi-Platform Support to Plugin #3

**Status**: Not Started
**Effort**: Large (8-10 hours)
**Dependencies**: P1-10
**Spec Reference**: Enhancement

#### Description
Extend Plugin #3 MCP configuration to support multiple platforms: web (Puppeteer), iOS (simulator), Android (emulator), desktop (Electron). Allow testing designs across platforms.

#### Acceptance Criteria
- [ ] MCP configuration supports Puppeteer (web)
- [ ] MCP configuration supports iOS simulator (optional)
- [ ] MCP configuration supports Android emulator (optional)
- [ ] Commands accept platform parameter
- [ ] Screenshots captured from specified platform
- [ ] Cross-platform comparison possible
- [ ] Documentation covers platform setup

#### Technical Notes
Start with Puppeteer (web) as baseline. iOS/Android require additional MCP servers. Platform selection via command flag: /screenshot --platform=ios.

---

### P3-6: Create Plugin Marketplace CLI Tool

**Status**: Not Started
**Effort**: Large (10-12 hours)
**Dependencies**: P2-5, P2-6
**Spec Reference**: Enhancement

#### Description
Create CLI tool for marketplace management: list plugins, validate configurations, install/uninstall, run tests, generate new plugin scaffolding.

#### Acceptance Criteria
- [ ] CLI tool created (suggest: scripts/marketplace-cli.py)
- [ ] Command: list - shows all plugins with status
- [ ] Command: validate - runs validation scripts
- [ ] Command: test - runs test suite
- [ ] Command: new - generates new plugin scaffold
- [ ] Command: doctor - checks environment, dependencies
- [ ] Installable: pip install -e . or similar
- [ ] Documentation with all commands

#### Technical Notes
Use Click or Typer for CLI framework. Should be installable in development mode. Consider using uv for Python packaging.

---

### P3-7: Add Performance Optimization to Agent Prompts

**Status**: Not Started
**Effort**: Medium (4-5 hours)
**Dependencies**: All P1 agent items
**Spec Reference**: Optimization

#### Description
Optimize agent prompts for context efficiency: reduce token usage, streamline instructions, add caching directives, improve response times.

#### Acceptance Criteria
- [ ] All agent prompts reviewed for brevity
- [ ] Redundant instructions removed
- [ ] Static content marked for caching
- [ ] Context preservation strategies implemented
- [ ] Token usage reduced by >20%
- [ ] Response quality maintained or improved
- [ ] Documentation updated

#### Technical Notes
Use prompt caching for static instructions. Remove verbose explanations. Focus on concise, actionable directives.

---

### P3-8: Add Workflow Templates

**Status**: Not Started
**Effort**: Medium (5-6 hours)
**Dependencies**: P1-2, P1-6, P1-11
**Spec Reference**: Enhancement

#### Description
Create workflow templates for common scenarios: API endpoint implementation, UI component creation, bug fix, refactoring. Templates provide pre-configured workflows.

#### Acceptance Criteria
- [ ] Template: API endpoint (using agent-loop)
- [ ] Template: UI component (using Plugin #3)
- [ ] Template: TDD feature (using epti)
- [ ] Template: Bug fix (using agent-loop)
- [ ] Template: Refactoring (using epti)
- [ ] Templates accessible via commands: /template <name>
- [ ] Templates documented with examples

#### Technical Notes
Templates are pre-filled command sequences. Example: /template api-endpoint → auto-runs /explore, /plan with API-specific prompts.

---

## Dependency Graph

```
Foundation (P0):
  P0-1 ─┬─> P1-1 ──> P1-2 ──> P1-3 ──> P1-4
        │
        └─> P2-5 ──> P2-6

  P0-2 ─┬─> P1-5 ──> P1-6 ──> P1-7 ──> P1-8
        │
        └─> P2-5 ──> P2-6

  P0-3 ──> P1-4, P1-8

  P0-4 ──> P0-5 ──> P1-9 ──> P1-10 ──> P1-11 ──> P1-12
                    │
                    └─> P2-5

Core Implementation (P1):
  All P1 items ──> P2-7 ──> P2-8

Documentation (P2):
  P1-{1,2,3,4} ──> P2-2 ──┐
  P1-{5,6,7,8} ──> P2-3 ──┼──> P2-1
  P1-{9,10,11,12} ─> P2-4 ─┘

  All P1 ──> P2-9, P2-10

Enhancements (P3):
  P1-1, P1-2 ──> P3-1, P3-2
  P1-5, P1-8 ──> P3-3
  P1-9, P1-12 ──> P3-4
  P1-10 ──> P3-5
  P2-5, P2-6 ──> P3-6
  All P1 agents ──> P3-7
  P1-{2,6,11} ──> P3-8
```

---

## Risk Assessment

### High-Risk Items (Need Investigation)

1. **P1-10: MCP Server Configuration** - Unknown if Puppeteer MCP server exists or requires creation
2. **P2-7: Integration Tests** - Unclear if Claude Code provides test harness for plugin loading
3. **P3-4: Visual Diff Metrics** - Image processing in Claude Code environment may have limitations
4. **P3-5: Multi-Platform MCP** - iOS/Android MCP servers may not exist

### Uncertain Requirements

1. **Plugin #3 Name** - Not specified in PROJECT_SPEC.md (suggested: "visual-iteration")
2. **Agent vs Command Split** - Spec doesn't clarify when to use agents vs commands vs skills
3. **Git Integration** - How plugins should trigger git operations (hooks vs direct commands)
4. **MCP Server Discovery** - How plugins discover and connect to MCP servers

### Blockers to Watch

1. Puppeteer MCP server availability for Plugin #3
2. Claude Code plugin testing infrastructure for P2-7
3. Test framework integration for epti plugin
4. Git command execution from within plugins

---

## Sprint Planning Recommendations

### Sprint 1 (Foundation - 1 week)
- All P0 items
- P1-1, P1-2 (agent-loop agent and commands)
- Goal: All 3 plugins installable, agent-loop minimally functional

### Sprint 2 (Core Features - 2 weeks)
- P1-3, P1-4 (agent-loop skills and hooks)
- P1-5, P1-6, P1-7, P1-8 (complete epti plugin)
- Goal: agent-loop and epti fully functional

### Sprint 3 (Visual Plugin - 2 weeks)
- P1-9, P1-10, P1-11, P1-12 (complete Plugin #3)
- Goal: All 3 plugins functional

### Sprint 4 (Quality - 1 week)
- P2-1 through P2-6 (documentation and validation)
- Goal: Production-ready with docs and validation

### Sprint 5 (Testing - 1 week)
- P2-7, P2-8, P2-9, P2-10 (tests and alignment)
- Goal: Tested and documented

### Sprint 6+ (Enhancements - Ongoing)
- P3 items as desired
- Goal: Enhanced features and optimizations

---

## Success Metrics

### MVP Definition (Completion of P0 + P1)
- 3 plugins installable without errors
- Each plugin provides documented workflow
- Commands execute successfully
- Basic git integration works
- No placeholder/template values remain

### Production Ready (Completion of P0 + P1 + P2)
- All plugins fully documented
- Validation scripts catch errors
- Integration tests pass
- Root README guides users
- All configuration files valid

### Enhanced (Completion of P0 + P1 + P2 + P3)
- Advanced features available
- Multi-platform support
- Performance optimized
- Template library available
- CLI tool for management

---

## Effort Summary

| Priority | Work Items | Estimated Hours |
|----------|-----------|-----------------|
| P0 (Critical) | 5 | 6-9 hours |
| P1 (High) | 12 | 44-63 hours |
| P2 (Medium) | 10 | 33-48 hours |
| P3 (Low) | 8 | 47-64 hours |
| **Total** | **35** | **130-184 hours** |

**MVP Estimate** (P0 + P1): 50-72 hours (aligns with STATUS estimate of 42-76 hours)

---

## Notes

- All estimates assume single developer, focused work
- P3 items are optional enhancements, not required for MVP
- Risk items may add 20-30% to estimates if blockers encountered
- Sprint planning assumes 30-35 productive hours per week
- Documentation time included in estimates
- Testing time may expand if issues discovered

